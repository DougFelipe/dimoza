// Script de teste para o Problema 5: MDC com passagem por referência

// Declara o PROTÓTIPO da função 'mdc', indicando que sua implementação
// está em uma biblioteca externa. Note o ponto e vírgula no final.
Unit mdc(Int n, Int m, ref Int r) {
    // O algoritmo continua enquanto os dois números não forem iguais.
    while (n != m) {
        // Se n for maior, subtrai m de n.
        if (n > m) {
            n <- n - m;
        }

        // Se m for maior, subtrai n de m.
        // (Usar 'if' separado em vez de 'else' também funciona perfeitamente)
        if (m > n) {
            m <- m - n;
        }
    }

    // Quando o loop termina, n (ou m) contém o MDC.
    // O resultado é atribuído à variável de referência 'r'.
    r <- n;
}

// A função principal que testa a implementação do mdc.
Unit main() {
    // Declara a variável que receberá o resultado por referência.
    Int resultado <- 0;

    // --- Teste 1: MDC de 48 e 18 ---
    mdc(48, 18, &resultado);
    print resultado; // Output esperado: 6

    // --- Teste 2: MDC de 101 e 10 ---
    // (Números primos entre si, o resultado deve ser 1)
    mdc(101, 10, &resultado);
    print resultado; // Output esperado: 1

    // --- Teste 3: MDC de 50 e 25 ---
    mdc(50, 25, &resultado);
    print resultado; // Output esperado: 25
}
